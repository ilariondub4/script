// ==UserScript==
// @name        Universal main  
// @namespace   Violentmonkey Scripts
// @match       https://portal.minv.sk/wps/portal/domov/ecu/ecu_elektronicke_sluzby/ecu-vysys/*
// @grant       none
// @version     1.6
// @author      -
// @description Автоматичне заповнення форми MINV з Telegram, CAPTCHA, GPT-4o, DeepSeek, фіксованими ключами та UI для редагування.
// @run-at      document-end
// ==/UserScript==

// Пристрій

async function isDeviceEnabled(deviceId) {
    try {
      const res1 = await fetch(`${BASE_URL}/api/config/${deviceId}`);
      const data = await res1.json();
        return data.enabled !== false;
    } catch (err) {
        console.warn('❌ Неможливо перевірити активність пристрою. Вважаємо активним.');
        return true;
    }
}

// ==UserScript==
// ... ваші @-директиви
// ==/UserScript==

// ============================================
// КОНСТАНТИ ТА ЗНАЧЕННЯ ЗА ЗАМОВЧУВАННЯМ
// ============================================
const DEVICE_ID = localStorage.getItem('DEVICE_ID') || 'D1';
const BASE_URL = "https://manager-term.fly.dev";

// Дані користувача за замовчуванням
const DEFAULT_USER_NAME = 'Ihor';
const DEFAULT_USER_SURNAME = 'Hrysha';
const DEFAULT_USER_BIRTHDATE = '30.03.1988';
const DEFAULT_USER_PHONE = '+421940242973';
const DEFAULT_USER_EMAIL = 'ivanikrakusinko1a1a20@gmail.com';
const DEFAULT_USER_CITIES = ["OCP Michalovce", "OCP Košice"]; // Зберігаємо як масив

// Значення для форми за замовчуванням
const DEFAULT_STEP3_SELECT_1_VALUE = '242';
const DEFAULT_STEP3_SELECT_2_VALUE = '243';

// Ключі API (жорстко задані)
const DEFAULT_OPENAI_API_KEY = 'sk-proj-WU5FuJFJdeIxTCJU5yzeizuudDpp27PjC541vGLRQd5Wu00-CngQqvI3QyQKIkGALf_y0Rr2R2T3BlbkFJfdbRDFwsw43jhzd3ng9DRXuj5pjGXZJrXQzxETxtQ-Ydx_QX0-KYSpJC7b8JA91ISsKoS3nIEAA';
const DEFAULT_OPENAI_PROJECT_ID = 'proj_i1jauovjNFo9CAZCUX8JmTwxA';
const DEFAULT_TELEGRAM_BOT_TOKEN = '8041735564:AAEOPeEFkF3RL4kdF8ZS02980WlKggTuV-EA';
const DEFAULT_TELEGRAM_CHAT_ID = '814270232A';
